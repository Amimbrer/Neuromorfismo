@page "/login"

<MudGrid Class="d-flex justify-center align-center cienHeight" >
      <MudItem xs="12" sm="7" lg="7" xl="5" Class="flex-grow-1">
        <MudPaper Class="py-9 px-12 rounded-lg" Elevation="9">
            <EditForm Model="@userLogin" OnValidSubmit="hacerLogin">
                <MudTextField Class="mb-3" T="string" @bind-Value="userLogin.UserName" For="@(() => userLogin.UserName)" OnlyValidateIfDirty="true" Counter="12" MaxLength="12" Immediate="true" Clearable="true" HelperText="El usuario es el número de historia" Label="Usuario*" HelperTextOnFocus="true" Variant="Variant.Text" />
                <MudTextField Class="mb-3" @onfocus="(() => mensajeErrorLogin = String.Empty)" @bind-Value="userLogin.Password" For="@(() => userLogin.Password)" Label="Contraseña*" Variant="Variant.Text" InputType="@tipoInputPass" Adornment="Adornment.End" OnlyValidateIfDirty="true" AdornmentIcon="@iconoPassword" OnAdornmentClick="clickPassword" AdornmentAriaLabel="Ver contraseña" />
                
                @if (!String.IsNullOrEmpty(mensajeErrorLogin)) {
                    <MudText Typo="Typo.subtitle1" Color="Color.Error">@mensajeErrorLogin</MudText>
                }

                <div Class="mt-12" Align="center" Typo="Typo.h6">
                    <MudButton Disabled="@cargando" Size="Size.Large" Variant="Variant.Filled" Color="Color.Primary" OnClick="@hacerLogin" Id="botonLogin">
                        @if (cargando) {
                            <MudProgressCircular Class="ms-n1" Size="Size.Small" Indeterminate="true" />
                            <MudText Class="ms-2">Cargando</MudText>
                        } else {
                                <MudText>Login</MudText>
                        }
                    </MudButton>
                </div>
            </EditForm>
        </MudPaper>
        </MudItem>
</MudGrid>
